<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>BÃ¬nh chá»n cáº·p Ä‘Ã´i Táº¿t ğŸ§§</title>

<style>
body{
    margin:0;
    background:#b30000;
    color:white;
    font-family:Arial;
    text-align:center;
}
h1,h2{color:gold}
.box{
    background:#fff;
    color:#000;
    width:90%;
    max-width:420px;
    margin:15px auto;
    padding:15px;
    border-radius:12px;
}
input,button{
    padding:8px;
    margin:5px;
    width:85%;
}
button{
    background:#e60000;
    color:white;
    border:none;
    border-radius:6px;
    cursor:pointer;
}
button:hover{opacity:0.9}
.rank{
    background:#fff3cd;
    color:#000;
    padding:8px;
    margin:6px 0;
    border-radius:8px;
}
.lixi{
    background:#ffcc00;
    color:#000;
    padding:15px;
    border-radius:12px;
    margin-top:10px;
}
</style>
</head>

<body>

<h1>ğŸ‰ BÃ¬nh chá»n cáº·p Ä‘Ã´i Táº¿t ğŸ‰</h1>

<!-- ===== THÃŠM Cáº¶P ÄÃ”I ===== -->
<div class="box">
<h2>ğŸ’‘ ThÃªm cáº·p Ä‘Ã´i</h2>
<input id="name1" placeholder="TÃªn ngÆ°á»i 1">
<input id="name2" placeholder="TÃªn ngÆ°á»i 2">
<button onclick="addCouple()">ThÃªm cáº·p</button>
</div>

<!-- ===== VOTE ===== -->
<div class="box">
<h2>ğŸ—³ï¸ Vote cáº·p Ä‘Ã´i</h2>
<select id="voteSelect" style="width:90%;padding:8px"></select>
<button onclick="vote()">Vote ğŸ’–</button>
</div>

<!-- ===== TOP 3 Há»¢P ÄÃ”I ===== -->
<div class="box">
<h2>ğŸ† Top há»£p Ä‘Ã´i</h2>
<div id="top3"></div>
</div>

<!-- ===== LÃŒ XÃŒ 1 GIá»œ ===== -->
<div class="box">
<h2 style="color:white">ğŸ§§ LÃ¬ xÃ¬ 1 giá»</h2>

<div class="lixi">
<button onclick="openLixi()">Má» LÃŒ XÃŒ ğŸ’°</button>
<p id="lixiResult"></p>
</div>
</div>

<script>
let couples = JSON.parse(localStorage.getItem("couples") || "[]");

function save(){
    localStorage.setItem("couples",JSON.stringify(couples));
}

function render(){
    let select=document.getElementById("voteSelect");
    select.innerHTML="";
    couples.forEach((c,i)=>{
        let opt=document.createElement("option");
        opt.value=i;
        opt.text=c.name1+" â¤ï¸ "+c.name2+" ("+c.vote+" vote)";
        select.appendChild(opt);
    });

    let top=[...couples].sort((a,b)=>b.vote-a.vote).slice(0,3);
    let html="";
    top.forEach((c,i)=>{
        html+=`<div class="rank">ğŸ¥‡ğŸ¥ˆğŸ¥‰`.charAt(i*2)+` Top ${i+1}: ${c.name1} â¤ï¸ ${c.name2} (${c.vote} vote)</div>`;
    });
    document.getElementById("top3").innerHTML=html || "ChÆ°a cÃ³ dá»¯ liá»‡u";
}

function addCouple(){
    let n1=name1.value.trim();
    let n2=name2.value.trim();
    if(!n1||!n2) return alert("Nháº­p Ä‘á»§ 2 tÃªn!");
    couples.push({name1:n1,name2:n2,vote:0});
    save(); render();
    name1.value=""; name2.value="";
}

function vote(){
    let i=voteSelect.value;
    if(couples[i]){
        couples[i].vote++;
        save(); render();
    }
}

let lastOpen=0;
function openLixi(){
    let now=Date.now();
    if(now-lastOpen<3600000){
        let m=Math.ceil((3600000-(now-lastOpen))/60000);
        return alert("Chá» "+m+" phÃºt ná»¯a!");
    }
    lastOpen=now;
    let money=Math.floor(Math.random()*90000)+10000;
    document.getElementById("lixiResult").innerText=
        "Báº¡n nháº­n Ä‘Æ°á»£c "+money+" VNÄ ğŸ§§";
}

render();
</script>

</body>
</html>

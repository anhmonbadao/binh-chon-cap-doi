<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BÃŒNH CHá»ŒN Cáº¶P ÄÃ”I â€“ LÃŒ XÃŒ Táº¾T 2026</title>

  <!-- ================= STYLE ================= -->
  <style>
    /* ===== RESET CÆ  Báº¢N ===== */
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Arial, Helvetica, sans-serif;
      background:#b30000; /* ná»n Ä‘á» Táº¿t */
      color:#fff;
    }

    /* ===== TIá»†N ÃCH ===== */
    .hidden{display:none}
    .center{
      min-height:100vh;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
    }

    input,button{
      padding:10px 12px;
      margin:6px 0;
      border:none;
      border-radius:6px;
      font-size:15px;
    }
    button{cursor:pointer}

    /* ===== Bá» Cá»¤C CHÃNH ===== */
    h1{text-align:center;margin-top:20px}

    .container{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:20px;
      padding:20px;
    }
    @media(max-width:900px){
      .container{grid-template-columns:1fr}
    }

    .card{
      background:#fff;
      color:#000;
      padding:18px;
      border-radius:14px;
      box-shadow:0 6px 14px rgba(0,0,0,.25);
    }

    a{
      color:#00ccff;
      font-weight:bold;
      text-decoration:none;
    }

    .small{font-size:13px;color:#555}

  </style>
</head>
<body>

<!-- =================================================== -->
<!-- =============== MÃ€N HÃŒNH NHáº¬P CODE ================ -->
<!-- =================================================== -->
<div id="login" class="center">

  <!-- VIDEO THU HÃšT -->
  <iframe width="360" height="200"
    src="https://www.youtube.com/embed/0N46LMV7UDU?autoplay=1&mute=1"
    allow="autoplay">
  </iframe>

  <h2>ğŸ” Nháº­p code Ä‘á»ƒ vÃ o website</h2>

  <input id="codeInput" placeholder="Nháº­p code vÃ o Ä‘Ã¢y">
  <div style="color:#00ccff">code: anhmontongtai</div>

  <input id="nameInput" placeholder="Nháº­p tÃªn cá»§a báº¡n">

  <button onclick="enterSite()">VÃ€O WEBSITE</button>
</div>

<!-- =================================================== -->
<!-- ================== TRANG CHÃNH =================== -->
<!-- =================================================== -->
<div id="main" class="hidden">

  <h1>ğŸ‰ BÃŒNH CHá»ŒN Cáº¶P ÄÃ”I â€“ LÃŒ XÃŒ COIN ğŸ‰</h1>

  <!-- NHáº C Ná»€N Táº¾T -->
  <audio autoplay loop volume="0.15">
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3">
  </audio>

  <div class="container">

    <!-- Äá»€ XUáº¤T Cáº¶P ÄÃ”I -->
    <div class="card">
      <h3>â• Äá» xuáº¥t cáº·p Ä‘Ã´i</h3>
      <p class="small">Má»—i ngÆ°á»i tá»‘i Ä‘a <b>2 cáº·p / ngÃ y</b></p>
      <input id="coupleInput" placeholder="VÃ­ dá»¥: A Ã— B">
      <button onclick="addCouple()">Gá»¬I Cáº¶P ÄÃ”I</button>
    </div>

    <!-- DANH SÃCH Cáº¶P ÄÃ”I -->
    <div class="card">
      <h3>â¤ï¸ Danh sÃ¡ch cáº·p Ä‘Ã´i</h3>
      <div id="coupleList"></div>
    </div>

    <!-- TOP Há»¢P ÄÃ”I -->
    <div class="card">
      <h3>ğŸ† TOP Há»¢P ÄÃ”I</h3>
      <ol id="topCouple"></ol>
    </div>

    <!-- LÃŒ XÃŒ COIN -->
    <div class="card">
      <h3>ğŸ§§ LÃ¬ xÃ¬ coin cá»§a báº¡n</h3>
      <p><b><span id="coin">0</span></b> coin</p>
      <button onclick="openSmallLucky()">Äá»•i 20 coin â†’ Bao lÃ¬ xÃ¬ nhá»</button>
    </div>

    <!-- MINI GAME -->
    <div class="card">
      <h3>ğŸ® Mini game toÃ¡n há»c</h3>
      <p id="question"></p>
      <input id="answer" placeholder="Nháº­p Ä‘Ã¡p Ã¡n">
      <button onclick="checkAnswer()">TRáº¢ Lá»œI</button>
      <p class="small">Tá»‘i Ä‘a 100 lÃ¬ xÃ¬ coin / ngÃ y</p>
    </div>

  </div>

  <div style="text-align:center;margin:40px">
    <a href="lucky.html">má»Ÿ lÃ¬ xÃ¬ tiá»n Ä‘áº§y tayğŸ§§</a>
  </div>
</div>

<!-- =================================================== -->
<!-- ===================== SCRIPT ====================== -->
<!-- =================================================== -->
<script>

/*************** Cáº¤U HÃŒNH CÆ  Báº¢N ***************/
const ACCESS_CODE = "anhmontongtai";

/*************** BIáº¾N NGÆ¯á»œI DÃ™NG ***************/
let userName = "";
let coin = Number(localStorage.getItem("coin") || 0);
let couples = JSON.parse(localStorage.getItem("couples") || "[]");
let dailyCoupleCount = Number(localStorage.getItem("dailyCouple") || 0);
let dailyCoin = Number(localStorage.getItem("dailyCoin") || 0);

/*************** VÃ€O WEBSITE ***************/
function enterSite(){
  if(codeInput.value !== ACCESS_CODE){
    alert("Sai code rá»“i!");
    return;
  }
  if(nameInput.value.trim() === ""){
    alert("Báº¡n chÆ°a nháº­p tÃªn");
    return;
  }
  userName = nameInput.value.trim();
  login.classList.add("hidden");
  main.classList.remove("hidden");
  render();
  newQuestion();
}

/*************** THÃŠM Cáº¶P ÄÃ”I ***************/
function addCouple(){
  if(dailyCoupleCount >= 2){
    alert("HÃ´m nay báº¡n Ä‘Ã£ gá»­i Ä‘á»§ 2 cáº·p Ä‘Ã´i rá»“i");
    return;
  }
  if(coupleInput.value.trim() === "") return;

  couples.push({
    name: coupleInput.value.trim(),
    vote: 0
  });

  dailyCoupleCount++;
  coupleInput.value = "";
  saveData();
  render();
}

/*************** VOTE ***************/
function voteCouple(index){
  couples[index].vote++;
  saveData();
  render();
}

/*************** HIá»‚N THá»Š ***************/
function render(){
  document.getElementById("coin").innerText = coin;

  // danh sÃ¡ch cáº·p Ä‘Ã´i
  coupleList.innerHTML = "";
  couples.forEach((c,i)=>{
    coupleList.innerHTML += `
      <div>
        ${c.name} â€“ â¤ï¸ ${c.vote}
        <button onclick="voteCouple(${i})">Vote</button>
      </div>
    `;
  });

  // top há»£p Ä‘Ã´i
  topCouple.innerHTML = "";
  [...couples]
    .sort((a,b)=>b.vote-a.vote)
    .slice(0,3)
    .forEach(c=>{
      topCouple.innerHTML += `<li>${c.name} (${c.vote} vote)</li>`;
    });
}

/*************** MINI GAME ***************/
let correctAnswer = 0;

function newQuestion(){
  let a = Math.floor(Math.random()*10);
  let b = Math.floor(Math.random()*10);
  correctAnswer = a + b;
  question.innerText = `${a} + ${b} = ?`;
}

function checkAnswer(){
  if(dailyCoin >= 100){
    alert("Báº¡n Ä‘Ã£ Ä‘áº¡t giá»›i háº¡n coin hÃ´m nay");
    return;
  }
  if(Number(answer.value) === correctAnswer){
    coin++;
    dailyCoin++;
    answer.value = "";
    newQuestion();
    saveData();
    render();
  }
}

/*************** BAO LÃŒ XÃŒ NHá» ***************/
function openSmallLucky(){
  if(coin < 20){
    alert("KhÃ´ng Ä‘á»§ coin");
    return;
  }
  coin -= 20;
  let r = Math.random()*100;
  if(r < 10) alert("ğŸ‰ TrÃºng 1.000Ä‘");
  else if(r < 19.5) alert("ğŸ‰ TrÃºng 5.000Ä‘");
  else if(r < 20) alert("ğŸ‰ TrÃºng 10.000Ä‘");
  else alert("ğŸ˜… KhÃ´ng trÃºng gÃ¬");
  saveData();
  render();
}

/*************** LÆ¯U LOCAL ***************/
function saveData(){
  localStorage.setItem("coin", coin);
  localStorage.setItem("couples", JSON.stringify(couples));
  localStorage.setItem("dailyCouple", dailyCoupleCount);
  localStorage.setItem("dailyCoin", dailyCoin);
}

</script>
</body>
</html>

<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>LÃ¬ xÃ¬ Táº¿t ğŸ’°</title>
<style>
body{
  margin:0;
  font-family:Arial;
  background:#b30000;
  color:#fff;
}
.container{
  max-width:1000px;
  margin:auto;
  padding:20px;
}
h1,h2{text-align:center}
.box{
  background:rgba(0,0,0,0.3);
  padding:15px;
  border-radius:12px;
  margin:15px 0;
}
button,input{
  padding:10px;
  border:none;
  border-radius:8px;
  width:100%;
  margin:5px 0;
}
button{
  background:gold;
  font-weight:bold;
  cursor:pointer;
}
button:disabled{background:#555}
a{color:#00ccff;font-weight:bold;text-decoration:none}
.coin{color:gold;font-weight:bold}
.small{font-size:14px;color:#ddd}

#lock{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}
.lock-box{
  background:#800000;
  padding:20px;
  border-radius:15px;
  max-width:500px;
  width:100%;
}
iframe{border-radius:10px}

.lixi-big{
  font-size:120px;
  text-align:center;
  cursor:pointer;
  animation:none;
}
@keyframes shake{
  0%{transform:rotate(0)}
  25%{transform:rotate(2deg)}
  50%{transform:rotate(-2deg)}
  75%{transform:rotate(2deg)}
  100%{transform:rotate(0)}
}

.flex{
  display:flex;
  gap:20px;
}
.flex > div{flex:1}
</style>
</head>
<body>

<!-- ğŸ”’ MÃ€N VÃ€O -->
<div id="lock">
  <div class="lock-box">
    <iframe width="100%" height="250"
      src="https://www.youtube.com/embed/0N46LMV7UDU?autoplay=1&mute=1&controls=1&loop=1"
      allow="autoplay">
    </iframe>

    <h2>Nháº­p code Ä‘á»ƒ vÃ o ğŸŠ</h2>
    <p class="small">Code: <b>anhmontongtai</b></p>
    <input id="nameInput" placeholder="Nháº­p tÃªn cá»§a báº¡n">
    <input id="codeInput" placeholder="Nháº­p code">
    <button onclick="unlock()">VÃ o web</button>
  </div>
</div>

<!-- ğŸŒ¸ TRANG CHÃNH -->
<div id="main" style="display:none" class="container">

<h1>ğŸ§§ LÃŒ XÃŒ Äáº¦U NÄ‚M â€“ PHÃT TÃ€I PHÃT Lá»˜C ğŸ§§</h1>

<div class="box">
ğŸ‘¤ NgÆ°á»i chÆ¡i: <b id="playerName"></b><br>
ğŸ’° LÃ¬ xÃ¬ coin: <span class="coin" id="coins">0</span>
</div>

<div class="box">
<h2>ğŸ§® Mini game toÃ¡n (1 cÃ¢u = 1 coin)</h2>
<p id="question"></p>
<input id="answer">
<button onclick="check()">Tráº£ lá»i</button>
</div>

<div class="box">
<h2>ğŸ Äá»•i bao lÃ¬ xÃ¬ nhá» (20 coin)</h2>
<button onclick="openSmall()">Má»Ÿ bao lÃ¬ xÃ¬</button>
<p id="smallResult"></p>
</div>

<div class="box">
<h2 style="color:#00ccff">
<a href="#big">ğŸ§§ Má» LÃŒ XÃŒ TIá»€N Äáº¦Y TAY ğŸ§§</a>
</h2>
</div>

<!-- ğŸ§§ LÃŒ XÃŒ Lá»šN -->
<div id="big" class="box">
<h2>ğŸ§§ LÃ¬ xÃ¬ vÃ ng khá»•ng lá»“ ğŸ§§</h2>
<p>â±ï¸ Thá»i gian cÃ²n láº¡i: <span id="timer"></span></p>

<div class="flex">
  <div>
    <div id="bigLixi" class="lixi-big" onclick="clickBig()">ğŸ§§</div>
    <p id="bigResult" style="text-align:center"></p>
  </div>

  <div>
    <h3>ğŸ‰ Ä‚n trá»n lÃ¬ xÃ¬</h3>
    <div id="winners"></div>
  </div>
</div>
</div>

</div>

<script>
const CODE="anhmontongtai";
let user=JSON.parse(localStorage.getItem("user")||"null");
let winners=JSON.parse(localStorage.getItem("winners")||"[]");

function unlock(){
  if(codeInput.value!==CODE) return alert("Sai code!");
  if(!nameInput.value) return alert("Nháº­p tÃªn!");
  user={
    name:nameInput.value,
    coins:0
  };
  localStorage.setItem("user",JSON.stringify(user));
  lock.style.display="none";
  main.style.display="block";
  startGame();
}

function startGame(){
  playerName.innerText=user.name;
  updateCoins();
  newQuestion();
  startTimer();
  renderWinners();
}

function updateCoins(){
  coins.innerText=user.coins;
  localStorage.setItem("user",JSON.stringify(user));
}

let a,b,ans;
function newQuestion(){
  a=Math.floor(Math.random()*10);
  b=Math.floor(Math.random()*10);
  ans=a+b;
  question.innerText=`${a} + ${b} = ?`;
}

function check(){
  if(parseInt(answer.value)===ans){
    user.coins++;
    updateCoins();
  }
  answer.value="";
  newQuestion();
}

function openSmall(){
  if(user.coins<20) return;
  user.coins-=20;
  updateCoins();
  let r=Math.random()*100;
  if(r<80) smallResult.innerText="ğŸ˜… KhÃ´ng trÃºng";
  else if(r<90) smallResult.innerText="ğŸ‰ TrÃºng 1.000Ä‘";
  else if(r<99.5) smallResult.innerText="ğŸ‰ TrÃºng 5.000Ä‘";
  else smallResult.innerText="ğŸ”¥ TrÃºng 10.000Ä‘";
}

let time=3600;
let canOpen=false;
function startTimer(){
  setInterval(()=>{
    if(time>0){
      time--;
      timer.innerText=`${Math.floor(time/60)}:${time%60}`;
    }else{
      canOpen=true;
      bigLixi.style.animation="shake 0.3s infinite";
    }
  },1000);
}

function clickBig(){
  if(!canOpen) return;
  let r=Math.random()*100;
  let prize=0;
  if(r<60) prize=0;
  else if(r<80) prize=1000;
  else if(r<90) prize=5000;
  else if(r<99) prize=10000;
  else prize=50000;

  bigResult.innerText= prize?`ğŸ‰ TrÃºng ${prize.toLocaleString()}Ä‘`:"ğŸ˜… KhÃ´ng trÃºng";
  if(prize){
    winners.unshift({name:user.name,prize});
    winners=winners.slice(0,10);
    localStorage.setItem("winners",JSON.stringify(winners));
    renderWinners();
  }
  canOpen=false;
  bigLixi.style.animation="none";
  time=3600;
}

function renderWinners(){
  winnersDiv=winners.map(w=>`<p>ğŸ§§ ${w.name} â€“ ${w.prize.toLocaleString()}Ä‘</p>`).join("");
  winners.innerHTML=winnersDiv;
}
</script>

</body>
</html>
